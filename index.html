<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åœ£è¯æ´»åŠ¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta name="description" content="åœ£è¯æ´»åŠ¨å¼€å§‹äº†ï¼Œå¿«æ¥æŠ½å¥–å§ï¼ç¥æ‚¨å¥½è¿ï¼">
	<div id="shareImage" style="display: none;">
		<img src="https://placehold.co/120x120/red/gold?text=%E6%8A%BD%E5%A5%96GO&font=playfair" />
	</div>
	<!-- å¼•å…¥äºŒç»´ç ç”Ÿæˆåº“ -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <style>
        /* æ ·å¼éƒ¨åˆ†ä¸ä¹‹å‰å®Œå…¨ç›¸åŒï¼Œç¡®ä¿è§†è§‰ä¸€è‡´æ€§ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #8b0000 0%, #b30000 30%, #d70000 70%, #ff1a1a 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .container {
            max-width: 100%;
            padding: 20px 20px 40px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        /* åœ£è¯è£…é¥° */
        .snowflake {
            position: fixed;
            color: white;
            font-size: 1.2rem;
            opacity: 0.7;
            z-index: 1;
            animation: fall linear infinite;
            pointer-events: none;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }

        /* å¤´éƒ¨åŒºåŸŸ */
        .header {
            text-align: center;
            padding: 25px 0 30px;
            margin-bottom: 15px;
            position: relative;
        }

        .kfc-logo {
            font-size: 3.5rem;
            font-weight: 900;
            color: #FFD700;
            text-shadow: 0 3px 10px rgba(0, 0, 0, 0.4);
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        .title {
            font-size: 2.8rem;
            font-weight: 800;
            color: #FFFFFF;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            margin: 15px 0;
            line-height: 1.3;
        }

        .subtitle {
            font-size: 1.4rem;
            color: #FFD700;
            font-weight: 600;
            max-width: 500px;
            margin: 0 auto 20px;
            padding: 0 15px;
        }

        /* ä¸»è¦å†…å®¹å¡ç‰‡ */
        .main-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 30px 25px;
            margin: 20px 0 35px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
            border: 2px solid #FFD700;
        }

        .promo-text {
            font-size: 1.6rem;
            color: #b30000;
            text-align: center;
            line-height: 1.8;
            margin-bottom: 30px;
            font-weight: 700;
            padding: 0 10px;
        }

        .highlight {
            color: #d70000;
            font-weight: 800;
            position: relative;
            display: inline-block;
        }

        .highlight::after {
            content: '';
            position: absolute;
            bottom: 2px;
            left: 0;
            width: 100%;
            height: 6px;
            background-color: rgba(255, 215, 0, 0.4);
            z-index: -1;
            border-radius: 3px;
        }

        .action-section {
            text-align: center;
            margin: 35px 0;
        }

        .v50-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #d70000 0%, #b30000 100%);
            color: #FFFFFF;
            border: none;
            padding: 22px 50px;
            font-size: 2rem;
            font-weight: 800;
            border-radius: 60px;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(179, 0, 0, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-width: 280px;
            letter-spacing: 1px;
        }

        .v50-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(179, 0, 0, 0.6);
        }

        .v50-button i {
            margin: 0 15px;
            font-size: 1.8rem;
            color: #FFD700;
        }

        /* å€’è®¡æ—¶ */
        .countdown-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 25px 20px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.5rem;
            color: #b30000;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section-title i {
            margin-right: 10px;
            color: #d70000;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .time-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .time-value {
            font-size: 2.5rem;
            font-weight: 900;
            color: #FFFFFF;
            background: linear-gradient(135deg, #d70000 0%, #b30000 100%);
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(179, 0, 0, 0.3);
            margin-bottom: 8px;
        }

        .time-label {
            font-size: 1rem;
            color: #b30000;
            font-weight: 600;
        }

        /* é£Ÿç‰©å±•ç¤º */
        .food-section {
            margin: 35px 0;
        }

        .food-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .food-item {
            background: #FFFFFF;
            border-radius: 18px;
            padding: 25px 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border: 2px solid #FFD700;
        }

        .food-item:hover {
            transform: translateY(-8px);
        }

        .food-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #d70000;
        }

        .food-name {
            font-size: 1.3rem;
            color: #b30000;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .food-desc {
            font-size: 0.95rem;
            color: #666666;
            font-weight: 500;
        }

        /* æ”¯ä»˜å¼¹çª— */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .payment-content {
            background: linear-gradient(135deg, #fff9f9 0%, #fff0f0 100%);
            border-radius: 25px;
            width: 90%;
            max-width: 400px;
            padding: 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            text-align: center;
            border: 3px solid #FFD700;
            position: relative;
            animation: modalFadeIn 0.4s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            color: #d70000;
            cursor: pointer;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-modal:hover {
            background-color: rgba(215, 0, 0, 0.1);
        }

        .payment-title {
            font-size: 1.8rem;
            color: #d70000;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .payment-subtitle {
            font-size: 1rem;
            color: #b30000;
            margin-bottom: 25px;
            font-weight: 600;
        }

        .qrcode-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: inline-block;
            width: 240px;
            height: 240px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #qrcode {
            width: 200px !important;
            height: 200px !important;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #qrcode canvas {
            border-radius: 8px;
            border: 2px solid #f0f0f0;
        }

        .payment-instructions {
            font-size: 0.95rem;
            color: #666666;
            margin: 15px 0 25px;
            line-height: 1.5;
        }

        .payment-instructions strong {
            color: #d70000;
        }

        .payment-amount {
            font-size: 1.8rem;
            color: #d70000;
            font-weight: 900;
            margin: 15px 0;
            background: rgba(255, 215, 0, 0.2);
            padding: 10px 20px;
            border-radius: 50px;
            display: inline-block;
        }

        .payment-timer {
            font-size: 1.1rem;
            color: #b30000;
            margin: 15px 0;
            font-weight: 700;
        }

        .payment-timer span {
            color: #d70000;
            font-weight: 900;
        }

        .payment-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .payment-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            max-width: 140px;
        }

        .payment-btn.success {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
        }

        .payment-btn.cancel {
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            color: #666;
        }

        .payment-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* æ”¯ä»˜æˆåŠŸæç¤º */
        .payment-success {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            animation: successFadeIn 0.5s ease-out;
        }

        @keyframes successFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .success-content {
            background: linear-gradient(135deg, #fff9f9 0%, #fff0f0 100%);
            border-radius: 25px;
            width: 90%;
            max-width: 400px;
            padding: 40px 30px;
            text-align: center;
            border: 3px solid #4CAF50;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .success-icon {
            font-size: 5rem;
            color: #4CAF50;
            margin-bottom: 20px;
            animation: successIcon 1s ease-out;
        }

        @keyframes successIcon {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-title {
            font-size: 2.2rem;
            color: #2E7D32;
            font-weight: 900;
            margin-bottom: 15px;
        }

        .success-message {
            font-size: 1.2rem;
            color: #666666;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .continue-btn {
            background: linear-gradient(135deg, #d70000 0%, #b30000 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(179, 0, 0, 0.4);
        }

        /* é¡µè„š */
        .footer {
            text-align: center;
            padding: 35px 20px 20px;
            margin-top: 30px;
            position: relative;
        }

        .footer-note {
            font-size: 1.3rem;
            color: #FFD700;
            font-weight: 600;
            line-height: 1.8;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(179, 0, 0, 0.2);
            border-radius: 15px;
            border-left: 5px solid #FFD700;
            border-right: 5px solid #FFD700;
        }

        .footer-note span {
            color: #FFFFFF;
            font-weight: 700;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (min-width: 768px) {
            .container {
                max-width: 700px;
                padding: 30px 30px 50px;
            }
            
            .title {
                font-size: 3.5rem;
            }
            
            .promo-text {
                font-size: 1.8rem;
            }
            
            .food-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .v50-button {
                font-size: 2.2rem;
                padding: 25px 60px;
            }
            
            .payment-content, .success-content {
                max-width: 450px;
                padding: 35px;
            }
        }

        @media (max-width: 480px) {
            .kfc-logo {
                font-size: 2.8rem;
            }
            
            .title {
                font-size: 2.3rem;
            }
            
            .subtitle {
                font-size: 1.2rem;
            }
            
            .promo-text {
                font-size: 1.4rem;
            }
            
            .v50-button {
                font-size: 1.7rem;
                padding: 20px 40px;
                min-width: 250px;
            }
            
            .time-value {
                width: 70px;
                height: 70px;
                font-size: 2rem;
            }
            
            .footer-note {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .qrcode-container {
                width: 220px;
                height: 220px;
            }
            
            #qrcode {
                width: 180px !important;
                height: 180px !important;
            }
            
            .payment-options {
                flex-direction: column;
                align-items: center;
            }
            
            .payment-btn {
                max-width: 100%;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- åœ£è¯é›ªèŠ±æ•ˆæœ -->
    <div id="snowflakes-container"></div>

    <!-- æ”¯ä»˜å¼¹çª— -->
    <div class="payment-modal" id="paymentModal">
        <div class="payment-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <h2 class="payment-title">æ‰«ç æ”¯ä»˜</h2>
            <p class="payment-subtitle">ç–¯ç‹‚æ˜ŸæœŸå›› Â· åœ£è¯ç‰¹åˆ«ç‰ˆ</p>
            
            <div class="payment-amount">Â¥50.00</div>
            
            <!-- äºŒç»´ç å®¹å™¨ - å°†ç”±JavaScriptåŠ¨æ€ç”ŸæˆäºŒç»´ç  -->
            <div class="qrcode-container">
                <div id="qrcode"></div>
            </div>
            
            <p class="payment-instructions">
                <strong>æ”¯ä»˜è¯´æ˜ï¼š</strong><br>
                è¯·ä½¿ç”¨æ”¯ä»˜å®æˆ–å¾®ä¿¡æ‰«ä¸€æ‰«<br>
                æ‰«æä¸Šæ–¹äºŒç»´ç å®Œæˆæ”¯ä»˜
            </p>
            
            <div class="payment-timer">
                æ”¯ä»˜å‰©ä½™æ—¶é—´ï¼š<span id="paymentTimer">180</span>ç§’
            </div>
            
            <div class="payment-options">
                <button class="payment-btn success" id="simulateSuccess">æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ</button>
                <button class="payment-btn cancel" id="cancelPayment">å–æ¶ˆæ”¯ä»˜</button>
            </div>
        </div>
    </div>

    <!-- æ”¯ä»˜æˆåŠŸæç¤º -->
    <div class="payment-success" id="paymentSuccess">
        <div class="success-content">
            <div class="success-icon">ğŸ‰</div>
            <h2 class="success-title">æ”¯ä»˜æˆåŠŸï¼</h2>
            <p class="success-message">
                æ„Ÿè°¢ä½ çš„50å…ƒèµåŠ©ï¼<br>
                åœ£è¯KFCå¤§é¤å·²é¢„è®¢æˆåŠŸï¼<br>
                ç¥ä½ åœ£è¯èŠ‚Â·ç–¯ç‹‚æ˜ŸæœŸå››å¿«ä¹ï¼
            </p>
            <button class="continue-btn" id="continueBtn">ç»§ç»­ç‹‚æ¬¢</button>
        </div>
    </div>

    <div class="container">
        <!-- å¤´éƒ¨ -->
        <header class="header">
            <div class="kfc-logo">KFC</div>
            <h1 class="title">ç–¯ç‹‚æ˜ŸæœŸå››</h1>
            <p class="subtitle">åœ£è¯ç‰¹åˆ«ç‰ˆ Â· æ‰«ç æ”¯ä»˜åŠŸèƒ½å·²ä¸Šçº¿</p>
        </header>

        <!-- ä¸»è¦å†…å®¹ -->
        <main class="main-content">
            <div class="promo-text">
                å˜¿ï¼ä»Šå¤©æ˜¯<span class="highlight">ç–¯ç‹‚æ˜ŸæœŸå››</span>ï¼Œ<br>
                åˆšå¥½é‡ä¸Š<span class="highlight">åœ£è¯ç‹‚æ¬¢å­£</span>ï¼<br>
                æˆ‘ææŒ‡ä¸€ç®—ï¼Œ<span class="highlight">ä½ å·²ç»ä¸‰ä¸ªæœˆ</span>æ²¡è¯·æˆ‘åƒè‚¯å¾·åŸºäº†ï¼Œ<br>
                <span class="highlight">æ‰«ç æ”¯ä»˜50å…ƒ</span>ï¼Œæˆ‘ä»¬ä¸€èµ·è¿‡ä¸ªé¦™å–·å–·çš„åœ£è¯èŠ‚ï¼
            </div>

            <!-- ä¸»æŒ‰é’® -->
            <div class="action-section">
                <button class="v50-button" id="v50Button">
                    <i class="fas fa-qrcode"></i>
                    æ‰«ç æ”¯ä»˜<br>50å…ƒ
                    <i class="fas fa-qrcode"></i>
                </button>
            </div>

            <!-- å€’è®¡æ—¶ -->
            <div class="countdown-section">
                <h2 class="section-title">
                    <i class="fas fa-clock"></i>
                    æœ¬å‘¨ç–¯ç‹‚å€’è®¡æ—¶
                </h2>
                <div class="countdown">
                    <div class="time-unit">
                        <div class="time-value" id="hours">12</div>
                        <div class="time-label">å°æ—¶</div>
                    </div>
                    <div class="time-unit">
                        <div class="time-value" id="minutes">35</div>
                        <div class="time-label">åˆ†é’Ÿ</div>
                    </div>
                    <div class="time-unit">
                        <div class="time-value" id="seconds">18</div>
                        <div class="time-label">ç§’</div>
                    </div>
                </div>
            </div>

            <!-- ç¾é£Ÿå±•ç¤º -->
            <div class="food-section">
                <h2 class="section-title">
                    <i class="fas fa-utensils"></i>
                    åœ£è¯æ¨èç¾é£Ÿ
                </h2>
                <div class="food-grid">
                    <div class="food-item">
                        <div class="food-icon">ğŸ—</div>
                        <div class="food-name">é¦™è¾£é¸¡è…¿å ¡</div>
                        <div class="food-desc">é…¥è„†å¤šæ±ï¼Œç»å…¸å¿…ç‚¹</div>
                    </div>
                    <div class="food-item">
                        <div class="food-icon">ğŸŸ</div>
                        <div class="food-name">é»„é‡‘è„†è–¯</div>
                        <div class="food-desc">å¤–é…¥å†…è½¯ï¼Œåœä¸ä¸‹æ¥</div>
                    </div>
                    <div class="food-item">
                        <div class="food-icon">ğŸ¥¤</div>
                        <div class="food-name">åœ£è¯ç‰¹é¥®</div>
                        <div class="food-desc">èŠ‚æ—¥é™å®šï¼Œå†°çˆ½å¯å£</div>
                    </div>
                    <div class="food-item">
                        <div class="food-icon">ğŸ”</div>
                        <div class="food-name">åŠ²è„†é¸¡è…¿å ¡</div>
                        <div class="food-desc">åŒé‡ç¾å‘³ï¼Œå£æ„Ÿä¸°å¯Œ</div>
                    </div>
                    <div class="food-item">
                        <div class="food-icon">ğŸ¦</div>
                        <div class="food-name">åœ£ä»£å†°æ·‡æ·‹</div>
                        <div class="food-desc">ç”œèœœå†°å‡‰ï¼ŒèŠ‚æ—¥äº«å—</div>
                    </div>
                    <div class="food-item">
                        <div class="food-icon">ğŸ„</div>
                        <div class="food-name">åœ£è¯ç‚¸é¸¡æ¡¶</div>
                        <div class="food-desc">èŠ‚æ—¥ä¸“äº«ï¼Œåˆ†äº«å¿«ä¹</div>
                    </div>
                </div>
            </div>
            
            <!-- æ”¯ä»˜æç¤º -->
            <div class="countdown-section">
                <h2 class="section-title">
                    <i class="fas fa-mobile-alt"></i>
                    æ‰«ç æ”¯ä»˜è¯´æ˜
                </h2>
                <div style="color: #b30000; font-size: 1.1rem; line-height: 1.7;">
                    <!--
					<p>1. ç‚¹å‡»ä¸Šæ–¹"æ‰«ç æ”¯ä»˜50å…ƒ"æŒ‰é’®</p>
                    <p>2. ä½¿ç”¨æ”¯ä»˜å®æˆ–å¾®ä¿¡æ‰«æäºŒç»´ç </p>
                    <p>3. å®Œæˆæ”¯ä»˜åå³å¯äº«å—åœ£è¯KFCå¤§é¤</p>
                    <p>4. æ”¯ä»˜è¿‡ç¨‹å®‰å…¨åŠ å¯†ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨</p>
					-->
					<p>æ‰«ç æ”¯ä»˜åŠŸèƒ½ä»…ä¾›å¨±ä¹ï¼</p>
                </div>
            </div>
        </main>

        <!-- é¡µè„š -->
        <footer class="footer">
            <div class="footer-note">
                æœ¬é¡µé¢ä»…ä¾›å¨±ä¹ï¼Œç¥å¤§å®¶<span>åœ£è¯èŠ‚å¿«ä¹</span>ï¼<br>
                æ„¿ä½ çš„èŠ‚æ—¥å……æ»¡ç¾å‘³ä¸æ¬¢ç¬‘ ğŸ…ğŸ„ğŸ
            </div>
        </footer>
    </div>

    <script>
        // åˆ›å»ºé›ªèŠ±æ•ˆæœ
        function createSnowflakes() {
            const container = document.getElementById('snowflakes-container');
            const snowflakeCount = 30;
            const flakes = ['â„ï¸', 'ğŸ„', 'ğŸ', 'ğŸŒŸ'];
            
            for (let i = 0; i < snowflakeCount; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.innerHTML = flakes[Math.floor(Math.random() * flakes.length)];
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.fontSize = (Math.random() * 20 + 10) + 'px';
                snowflake.style.opacity = Math.random() * 0.5 + 0.3;
                snowflake.style.animationDuration = (Math.random() * 10 + 10) + 's';
                snowflake.style.animationDelay = Math.random() * 5 + 's';
                
                container.appendChild(snowflake);
            }
        }
        
        // å€’è®¡æ—¶åŠŸèƒ½
        function updateCountdown() {
            const now = new Date();
            const today = now.getDay();
            const targetDay = 4;
            
            let daysUntilThursday = targetDay - today;
            if (daysUntilThursday < 0 || (daysUntilThursday === 0 && now.getHours() >= 23)) {
                daysUntilThursday += 7;
            }
            
            const targetDate = new Date(now);
            targetDate.setDate(now.getDate() + daysUntilThursday);
            targetDate.setHours(23, 59, 59, 999);
            
            const timeDiff = targetDate - now;
            
            if (timeDiff > 0) {
                const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
                
                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            } else {
                document.getElementById('hours').textContent = "00";
                document.getElementById('minutes').textContent = "00";
                document.getElementById('seconds').textContent = "00";
            }
        }
        
        // äºŒç»´ç ç”Ÿæˆå‡½æ•° - æ ¸å¿ƒä¿®å¤
        function generateQRCode() {
            const qrcodeElement = document.getElementById('qrcode');
            
            // æ¸…ç©ºä¹‹å‰çš„å†…å®¹
            qrcodeElement.innerHTML = '';
            
            // ç”Ÿæˆæ”¯ä»˜æ•°æ®ï¼ˆè¿™é‡Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…åº”ç”¨ä¸­åº”æ›¿æ¢ä¸ºçœŸå®æ”¯ä»˜é“¾æ¥ï¼‰
            const paymentData = "ç–¯ç‹‚æ˜ŸæœŸå››Væˆ‘50å…ƒ - åœ£è¯ç‰¹åˆ«ç‰ˆ\n" +
                               "æ”¯ä»˜é‡‘é¢ï¼š50.00å…ƒ\n" +
                               "æ”¯ä»˜è¯´æ˜ï¼šKFCåœ£è¯å¤§é¤\n" +
                               "æ—¶é—´ï¼š" + new Date().toLocaleDateString();
            
            try {
                // ä½¿ç”¨QRCode.jsç”ŸæˆäºŒç»´ç 
                new QRCode(qrcodeElement, {
                    text: paymentData,
                    width: 200,
                    height: 200,
                    colorDark: "#8B0000", // æ·±çº¢è‰²ï¼Œä¸ä¸»é¢˜åŒ¹é…
                    colorLight: "#FFFFFF",
                    correctLevel: QRCode.CorrectLevel.H
                });
                
                console.log("äºŒç»´ç ç”ŸæˆæˆåŠŸ");
            } catch (error) {
                console.error("äºŒç»´ç ç”Ÿæˆå¤±è´¥:", error);
                // å¤‡ç”¨æ–¹æ¡ˆï¼šå¦‚æœäºŒç»´ç ç”Ÿæˆå¤±è´¥ï¼Œæ˜¾ç¤ºæ›¿ä»£æ–‡æœ¬
                qrcodeElement.innerHTML = `
                    <div style="text-align:center; padding:20px;">
                        <div style="font-size:3rem; color:#8B0000; margin-bottom:10px;">ğŸ’°</div>
                        <div style="font-size:1rem; color:#666;">ç–¯ç‹‚æ˜ŸæœŸå››<br>Væˆ‘50å…ƒ</div>
                    </div>
                `;
            }
        }
        
        // æ”¯ä»˜ç›¸å…³å˜é‡
        let paymentTimer;
        let paymentTimeLeft = 180;
        let clickCount = 0;
        
        // è·å–DOMå…ƒç´ 
        const v50Button = document.getElementById('v50Button');
        const paymentModal = document.getElementById('paymentModal');
        const closeModal = document.getElementById('closeModal');
        const cancelPayment = document.getElementById('cancelPayment');
        const simulateSuccess = document.getElementById('simulateSuccess');
        const paymentSuccess = document.getElementById('paymentSuccess');
        const continueBtn = document.getElementById('continueBtn');
        const paymentTimerDisplay = document.getElementById('paymentTimer');
        
        // Væˆ‘50æŒ‰é’®äº¤äº’
        v50Button.addEventListener('click', function() {
            clickCount++;
            
            // æ˜¾ç¤ºæ”¯ä»˜å¼¹çª—å‰å…ˆç”ŸæˆäºŒç»´ç 
            generateQRCode();
            
            // æ˜¾ç¤ºæ”¯ä»˜å¼¹çª—
            paymentModal.style.display = 'flex';
            
            // é‡ç½®æ”¯ä»˜å€’è®¡æ—¶
            paymentTimeLeft = 180;
            paymentTimerDisplay.textContent = paymentTimeLeft;
            
            // å¼€å§‹æ”¯ä»˜å€’è®¡æ—¶
            clearInterval(paymentTimer);
            paymentTimer = setInterval(() => {
                paymentTimeLeft--;
                paymentTimerDisplay.textContent = paymentTimeLeft;
                
                if (paymentTimeLeft <= 0) {
                    clearInterval(paymentTimer);
                    paymentModal.style.display = 'none';
                    alert('æ”¯ä»˜è¶…æ—¶ï¼Œè¯·é‡æ–°å°è¯•ï¼');
                }
            }, 1000);
            
            // åˆ›å»ºç‚¹å‡»æ•ˆæœ
            createClickEffect();
        });
        
        // å…³é—­æ”¯ä»˜å¼¹çª—
        closeModal.addEventListener('click', function() {
            paymentModal.style.display = 'none';
            clearInterval(paymentTimer);
        });
        
        // å–æ¶ˆæ”¯ä»˜
        cancelPayment.addEventListener('click', function() {
            paymentModal.style.display = 'none';
            clearInterval(paymentTimer);
            alert('æ”¯ä»˜å·²å–æ¶ˆ');
        });
        
        // æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ
        simulateSuccess.addEventListener('click', function() {
            paymentModal.style.display = 'none';
            clearInterval(paymentTimer);
            
            // æ˜¾ç¤ºæ”¯ä»˜æˆåŠŸæç¤º
            paymentSuccess.style.display = 'flex';
            
            // æ’­æ”¾æ”¯ä»˜æˆåŠŸéŸ³æ•ˆï¼ˆæ¨¡æ‹Ÿï¼‰
            playSuccessSound();
        });
        
        // ç»§ç»­ç‹‚æ¬¢æŒ‰é’®
        continueBtn.addEventListener('click', function() {
            paymentSuccess.style.display = 'none';
            
            // æ›´æ–°æŒ‰é’®æ–‡æœ¬
            const successMessages = [
                "æ”¯ä»˜æˆåŠŸï¼è°¢è°¢è€æ¿ï¼",
                "KFCåœ£è¯å¤§é¤åˆ°æ‰‹ï¼",
                "ç–¯ç‹‚æ˜ŸæœŸå››ä¸‡å²ï¼",
                "é¸¡è…¿å ¡åœ¨å¬å”¤ï¼",
                "å¥½äººä¸€ç”Ÿå¹³å®‰ï¼",
                "åœ£è¯å¿«ä¹ï¼Œæ„Ÿæ©æœ‰ä½ ï¼"
            ];
            
            const randomMessage = successMessages[Math.floor(Math.random() * successMessages.length)];
            v50Button.innerHTML = `<i class="fas fa-gift"></i> ${randomMessage} <i class="fas fa-gift"></i>`;
            
            // 5ç§’åæ¢å¤æŒ‰é’®æ–‡æœ¬
            setTimeout(() => {
                v50Button.innerHTML = `<i class="fas fa-qrcode"></i> æ‰«ç æ”¯ä»˜50å…ƒ <i class="fas fa-qrcode"></i>`;
            }, 5000);
        });
        
        // åˆ›å»ºç‚¹å‡»æ•ˆæœ
        function createClickEffect() {
            const effects = ['ğŸ’°', 'ğŸ„', 'ğŸ’³', 'ğŸ', 'ğŸŒŸ', 'ğŸ…'];
            
            for (let i = 0; i < 12; i++) {
                const effect = document.createElement('div');
                effect.textContent = effects[Math.floor(Math.random() * effects.length)];
                effect.style.position = 'fixed';
                effect.style.left = '50%';
                effect.style.top = '50%';
                effect.style.fontSize = `${Math.random() * 25 + 15}px`;
                effect.style.zIndex = '1000';
                effect.style.pointerEvents = 'none';
                effect.style.opacity = '1';
                effect.style.transform = 'translate(-50%, -50%)';
                
                document.body.appendChild(effect);
                
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 120 + 60;
                const targetX = Math.cos(angle) * distance;
                const targetY = Math.sin(angle) * distance;
                
                const animation = effect.animate([
                    { transform: 'translate(-50%, -50%) scale(1)', opacity: 1 },
                    { transform: `translate(calc(-50% + ${targetX}px), calc(-50% + ${targetY}px)) scale(0)`, opacity: 0 }
                ], {
                    duration: Math.random() * 1000 + 800,
                    easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                });
                
                animation.onfinish = () => {
                    effect.remove();
                };
            }
        }
        
        // æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸéŸ³æ•ˆ
        function playSuccessSound() {
            try {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                if (AudioContext) {
                    const audioContext = new AudioContext();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
                    oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
                    
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.5);
                }
            } catch (e) {
                console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œä¸å½±å“ä¸»è¦åŠŸèƒ½");
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            createSnowflakes();
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // é¡µé¢åŠ è½½åé¢„å…ˆç”Ÿæˆä¸€ä¸ªç¤ºä¾‹äºŒç»´ç 
            setTimeout(() => {
                generateQRCode();
            }, 500);
        });
        
        // ç§»åŠ¨ç«¯ä¼˜åŒ–
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
        
        // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­å¼¹çª—
        paymentModal.addEventListener('click', function(event) {
            if (event.target === paymentModal) {
                paymentModal.style.display = 'none';
                clearInterval(paymentTimer);
            }
        });
    </script>
</body>
</html>
